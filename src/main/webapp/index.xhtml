<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a4j="http://richfaces.org/a4j">

<body>
	<h:head>
	</h:head>

	<ui:include src="menu.xhtml">
	</ui:include>
	
	<div style="margin-left: 15px;">

		<div class="page-header">
			<h2>Add Dataset</h2>
		</div>

		<div style="width: 90%; max-width: 1200px">

			<div class="panel panel-default">
				<div class="panel-heading">
					<div class="panel-title">Add DataID URL</div>
					<div class="pull-right"></div>
				</div>
				<div class="panel-body">


					<h:form prependId="false">

						<a4j:push address="downloadDataIDMessage">
							<a4j:ajax event="dataavailable" render="downloadDataID" />
						</a4j:push>


						<h:inputText style="width:700px" id="nameInput"
							value="#{dataIDBean.url}"></h:inputText>


						<div style="float: right">
							<a4j:commandButton value="Add DataId file"
								class="btn btn-xs btn-success" style="margin-left: 20px"
								action="#{dataIDBean.start}" />



							<a4j:commandButton class="btn btn-xs btn-warning"
								style="margin-left: 20px" value="Update Linksets"
								action="#{dataIDBean.update}" />
						</div>
						<br />

					</h:form>
				</div>
			</div>
		</div>
		<div style="width: 90%; max-width: 1200px">

			<div class="panel panel-default">
				<div class="panel-heading">
					<div class="panel-title">Cloud logs</div>
					<div class="pull-right"></div>
				</div>
				<div class="panel-body">

					<h:form prependId="false">

						<a4j:outputPanel id="downloadDataID">
				Dataset name:
				<h:outputText value="#{dataIDBean.downloadDatasetURI}"
								escape="false" />
							<br />

						</a4j:outputPanel>

						<a4j:push address="logMessage">
							<a4j:ajax event="dataavailable" render="outputDate"
								oncomplete="document.getElementById('divDisplay').scrollTop = document.getElementById('divDisplay').scrollHeight" />
						</a4j:push>
						<a4j:outputPanel id="outputDate">
							<div
								style="border: 1px solid; height: 500px; max-height: 500px; max-width: 100%; overflow: auto;"
								id="divDisplay">

								<h:outputText value="#{dataIDBean.display}" escape="false" />

							</div>
						</a4j:outputPanel>
					</h:form>
				</div>
			</div>
		</div>
	</div>


</body>

</html>
